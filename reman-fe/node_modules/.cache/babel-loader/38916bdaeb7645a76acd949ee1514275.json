{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/rhoka/Desktop/React/reman-fe/src/components/Profile/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Cookies from 'universal-cookie';\nimport './index.css';\nimport Button from '../../parts/Button';\nimport Input from '../../parts/Input';\nimport Star from \"../../assets/image/star.svg\";\nimport Settings from \"../../assets/image/settings.svg\";\nimport People from \"../../assets/image/people.svg\";\nexport default function Profile({\n  setLogin\n}) {\n  _s();\n\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [oldPassword, setOldPassword] = useState('');\n  const [newPassword, setNewPassword] = useState('');\n  const [confirmPassword, setConfrimPassword] = useState('');\n  useEffect(() => {\n    const cookies = new Cookies();\n    axios.get('https://sureface-natours.herokuapp.com/api/v1/users/me', {\n      headers: {\n        Authorization: `Bearer ${cookies.get('jwt')}`\n      },\n      withCredentials: true\n    }).then(res => {\n      const {\n        name,\n        email\n      } = res.data.data.data;\n      setName(name);\n      setEmail(email);\n    });\n  }, []);\n\n  const handleClickUpdateUsername = e => {\n    const cookies = new Cookies(); // if (login) { }\n\n    axios.patch('https://sureface-natours.herokuapp.com/api/v1/users/updateMe', {\n      name: name\n    }, {\n      headers: {\n        Authorization: `Bearer ${cookies.get('jwt')}`\n      },\n      withCredentials: true\n    }).then(res => {\n      console.log(res);\n    });\n    e.preventDefault();\n  };\n\n  const handleClickUpdatePassword = e => {\n    const cookies = new Cookies();\n    axios.patch('https://sureface-natours.herokuapp.com/api/v1/users/updateMyPassword', {\n      passwordCurrent: oldPassword,\n      password: newPassword,\n      passwordConfirm: confirmPassword\n    }, {\n      headers: {\n        Authorization: `Bearer ${cookies.get('jwt')}`\n      },\n      withCredentials: true\n    }).then(res => {\n      console.log(res);\n      setOldPassword('');\n      setNewPassword('');\n      setConfrimPassword('');\n    });\n    e.preventDefault();\n  };\n\n  const handleNewPassword = e => {\n    setNewPassword(e.target.value);\n  };\n\n  const handleConfirm = e => {\n    setConfrimPassword(e.target.value);\n  };\n\n  const nameHandler = event => {\n    setName(event.target.value);\n  };\n\n  const emailHandler = event => {\n    setEmail(event.target.value);\n  };\n\n  const handleOldPassword = event => {\n    setOldPassword(event.target.value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container_profile\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"menu_sidebar\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"main_menubar\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          style: {\n            marginTop: 60\n          },\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/profile\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-img-profile\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: Settings,\n                alt: \"icon-settings\",\n                className: \"img-profile\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-img-profile\",\n                children: \"settings\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: Star,\n              className: \"img-profile\",\n              alt: \"icon-reviews\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-img-profile-review\",\n              children: \"my reviews \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile_area\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"color_h2_profile\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"setting_h2\",\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"title-profile\",\n              children: \"your account settings\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleClickUpdateUsername,\n          children: [/*#__PURE__*/_jsxDEV(Input, {\n            title: \"Your Name\",\n            placeholder: \"your name\",\n            value: name,\n            onChange: nameHandler,\n            inputEmailName: true,\n            className: \"profile-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            title: \"Email Address\",\n            placeholder: \"you@example.com\",\n            value: email,\n            onChange: emailHandler,\n            inputEmailName: true,\n            className: \"profile-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"img-default-profile\",\n              src: People,\n              alt: \"icon-people\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            btnProfile: true,\n            children: \"SAVE SETTINGS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"border-bottom\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-card-password\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"color_h2_profile\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"setting_h2\",\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"title-profile\",\n              children: \"PASSWORD SETTINGS\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleClickUpdatePassword,\n          children: [/*#__PURE__*/_jsxDEV(Input, {\n            inputPassword: true,\n            title: \"Old Password\",\n            value: oldPassword,\n            onChange: handleOldPassword\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            inputPassword: true,\n            title: \"New Password\",\n            value: newPassword,\n            onChange: handleNewPassword\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            inputPassword: true,\n            title: \"Confirm Password\",\n            value: confirmPassword,\n            onChange: handleConfirm\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            btnProfile: true,\n            className: \"profile-btn-pass\",\n            children: \"SAVE PASSWORD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Profile, \"WnO3BfLy/EGRpkEPWUqtC2Bb20M=\");\n\n_c = Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"sources":["/home/rhoka/Desktop/React/reman-fe/src/components/Profile/index.js"],"names":["React","useState","useEffect","axios","Cookies","Button","Input","Profile","setLogin","name","setName","email","setEmail","oldPassword","setOldPassword","newPassword","setNewPassword","confirmPassword","setConfrimPassword","cookies","get","headers","Authorization","withCredentials","then","res","data","handleClickUpdateUsername","e","patch","console","log","preventDefault","handleClickUpdatePassword","passwordCurrent","password","passwordConfirm","handleNewPassword","target","value","handleConfirm","nameHandler","event","emailHandler","handleOldPassword","marginTop","Settings","Star","People"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Cookies from 'universal-cookie';\n\nimport './index.css';\nimport Button from '../../parts/Button';\nimport Input from '../../parts/Input';\nimport Star from '../../assets/image/star.svg';\nimport Settings from '../../assets/image/settings.svg';\nimport People from '../../assets/image/people.svg';\n\nexport default function Profile({ setLogin }) {\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [oldPassword, setOldPassword] = useState('');\n  const [newPassword, setNewPassword] = useState('');\n  const [confirmPassword, setConfrimPassword] = useState('');\n\n  useEffect(() => {\n    const cookies = new Cookies();\n\n    axios\n      .get('https://sureface-natours.herokuapp.com/api/v1/users/me', {\n        headers: {\n          Authorization: `Bearer ${cookies.get('jwt')}`,\n        },\n        withCredentials: true,\n      })\n      .then(res => {\n        const { name, email } = res.data.data.data;\n        setName(name);\n        setEmail(email);\n      });\n  }, []);\n\n  const handleClickUpdateUsername = e => {\n    const cookies = new Cookies();\n    // if (login) { }\n    axios\n      .patch(\n        'https://sureface-natours.herokuapp.com/api/v1/users/updateMe',\n        {\n          name: name,\n        },\n        {\n          headers: {\n            Authorization: `Bearer ${cookies.get('jwt')}`,\n          },\n          withCredentials: true,\n        }\n      )\n      .then(res => {\n        console.log(res);\n      });\n\n    e.preventDefault();\n  };\n\n  const handleClickUpdatePassword = e => {\n    const cookies = new Cookies();\n    axios\n      .patch(\n        'https://sureface-natours.herokuapp.com/api/v1/users/updateMyPassword',\n        {\n          passwordCurrent: oldPassword,\n          password: newPassword,\n          passwordConfirm: confirmPassword,\n        },\n        {\n          headers: {\n            Authorization: `Bearer ${cookies.get('jwt')}`,\n          },\n          withCredentials: true,\n        }\n      )\n      .then(res => {\n        console.log(res);\n        setOldPassword('');\n        setNewPassword('');\n        setConfrimPassword('');\n      });\n\n    e.preventDefault();\n  };\n\n  const handleNewPassword = e => {\n    setNewPassword(e.target.value);\n  };\n\n  const handleConfirm = e => {\n    setConfrimPassword(e.target.value);\n  };\n\n  const nameHandler = event => {\n    setName(event.target.value);\n  };\n\n  const emailHandler = event => {\n    setEmail(event.target.value);\n  };\n\n  const handleOldPassword = event => {\n    setOldPassword(event.target.value);\n  };\n\n  return (\n    <div className=\"container_profile\">\n      <div className=\"menu_sidebar\">\n        <ul className=\"main_menubar\">\n          <li style={{ marginTop: 60 }}>\n            <a href=\"/profile\">\n              <div className=\"card-img-profile\">\n                <img\n                  src={Settings}\n                  alt=\"icon-settings\"\n                  className=\"img-profile\"\n                />\n                <p className=\"text-img-profile\">settings</p>\n              </div>\n            </a>\n          </li>\n          <li>\n            <div>\n              <img src={Star} className=\"img-profile\" alt=\"icon-reviews\" />\n              <p className=\"text-img-profile-review\">my reviews </p>\n            </div>\n          </li>\n        </ul>\n      </div>\n      <div className=\"profile_area\">\n        <div className=\"profile-card\">\n          <div className=\"color_h2_profile\">\n            <div className=\"setting_h2\">\n              <h2 className=\"title-profile\">your account settings</h2>\n            </div>\n          </div>\n          <form onSubmit={handleClickUpdateUsername}>\n            <Input\n              title=\"Your Name\"\n              placeholder=\"your name\"\n              value={name}\n              onChange={nameHandler}\n              inputEmailName\n              className=\"profile-input\"\n            />\n            <Input\n              title=\"Email Address\"\n              placeholder=\"you@example.com\"\n              value={email}\n              onChange={emailHandler}\n              inputEmailName\n              className=\"profile-input\"\n            />\n            <div>\n              <img\n                className=\"img-default-profile\"\n                src={People}\n                alt=\"icon-people\"\n              />\n            </div>\n            <Input />\n            <Button btnProfile>SAVE SETTINGS</Button>\n          </form>\n        </div>\n        <div className=\"border-bottom\" />\n        <div className=\"profile-card-password\">\n          <div className=\"color_h2_profile\">\n            <div className=\"setting_h2\">\n              <h2 className=\"title-profile\">PASSWORD SETTINGS</h2>\n            </div>\n          </div>\n          <form onSubmit={handleClickUpdatePassword}>\n            <Input\n              inputPassword\n              title=\"Old Password\"\n              value={oldPassword}\n              onChange={handleOldPassword}\n            />\n            <Input\n              inputPassword\n              title=\"New Password\"\n              value={newPassword}\n              onChange={handleNewPassword}\n            />\n            <Input\n              inputPassword\n              title=\"Confirm Password\"\n              value={confirmPassword}\n              onChange={handleConfirm}\n            />\n            <Button btnProfile className=\"profile-btn-pass\">\n              SAVE PASSWORD\n            </Button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}