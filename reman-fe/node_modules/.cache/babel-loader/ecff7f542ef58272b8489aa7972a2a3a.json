{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/rhoka/Desktop/React/reman-fe/src/components/Login/index.js\",\n    _s = $RefreshSig$();\n\nimport './index.css';\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport Cookies from 'universal-cookie';\nimport Button from '../../parts/Button';\nimport Input from '../../parts/Input';\nimport Spinners from '../../parts/Animation/Spinners';\n\nfunction Login({\n  setLogin,\n  animation,\n  setAnimation,\n  setModal,\n  setFailModal\n}) {\n  _s();\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const history = useHistory();\n\n  const handleClick = event => {\n    setAnimation(false);\n    axios.post('https://sureface-natours.herokuapp.com/api/v1/users/login', {\n      email,\n      password\n    }, {\n      withCredentials: true\n    }).then(res => {\n      setLogin(true);\n      setModal(true);\n      setEmail('');\n      setPassword('');\n      console.log(res);\n      console.log(res.cookies);\n      const cookies = new Cookies();\n      cookies.set('jwt', res.data.token, {\n        path: '/'\n      });\n      console.log(cookies.get('jwt'));\n      setTimeout(() => {\n        history.push('/');\n      }, 2000);\n    }).catch(e => {\n      // console.log(`error password salah ${e}`);\n      console.log(e.response.data);\n\n      if (e.response.status === 401) {\n        setFailModal(true);\n        setAnimation(true);\n      }\n    });\n    event.preventDefault();\n  };\n\n  const handlePassword = event => {\n    setPassword(event.target.value);\n  };\n\n  const handleUsername = event => {\n    setEmail(event.target.value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"wrapper-login\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-login\",\n      children: animation ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-login\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"title-login\",\n          children: \"log into your account!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleClick,\n          children: [/*#__PURE__*/_jsxDEV(Input, {\n            onChange: handleUsername,\n            value: email,\n            placeholder: \"you@example.com\",\n            inputEmailName: true,\n            title: \"Email Adress\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            onChange: handlePassword,\n            value: password,\n            title: \"Password\",\n            inputPassword: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }, this), password.length >= 6 && email.length >= 2 ? /*#__PURE__*/_jsxDEV(Button, {\n            btnForLogin: true,\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 17\n          }, this) : '']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-login\",\n        children: /*#__PURE__*/_jsxDEV(Spinners, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"KhoxFlMWxXkzg9TaS9xidBqZqGw=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/home/rhoka/Desktop/React/reman-fe/src/components/Login/index.js"],"names":["React","useState","axios","useHistory","Cookies","Button","Input","Spinners","Login","setLogin","animation","setAnimation","setModal","setFailModal","email","setEmail","password","setPassword","history","handleClick","event","post","withCredentials","then","res","console","log","cookies","set","data","token","path","get","setTimeout","push","catch","e","response","status","preventDefault","handlePassword","target","value","handleUsername","length"],"mappings":"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","sourcesContent":["import './index.css';\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport Cookies from 'universal-cookie';\nimport Button from '../../parts/Button';\nimport Input from '../../parts/Input';\nimport Spinners from '../../parts/Animation/Spinners';\n\nfunction Login({ setLogin, animation, setAnimation, setModal, setFailModal }) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const history = useHistory();\n  const handleClick = event => {\n    setAnimation(false);\n    axios\n      .post(\n        'https://sureface-natours.herokuapp.com/api/v1/users/login',\n        {\n          email,\n          password,\n        },\n        { withCredentials: true }\n      )\n      .then(res => {\n        setLogin(true);\n        setModal(true);\n        setEmail('');\n        setPassword('');\n        console.log(res);\n        console.log(res.cookies);\n        const cookies = new Cookies();\n        cookies.set('jwt', res.data.token, { path: '/' });\n        console.log(cookies.get('jwt'));\n        setTimeout(() => {\n          history.push('/');\n        }, 2000);\n      })\n      .catch(e => {\n        // console.log(`error password salah ${e}`);\n        console.log(e.response.data);\n        if (e.response.status === 401) {\n          setFailModal(true);\n          setAnimation(true);\n        }\n      });\n\n    event.preventDefault();\n  };\n\n  const handlePassword = event => {\n    setPassword(event.target.value);\n  };\n\n  const handleUsername = event => {\n    setEmail(event.target.value);\n  };\n  return (\n    <section className=\"wrapper-login\">\n      <div className=\"container-login\">\n        {animation ? (\n          <div className=\"card-login\">\n            <h1 className=\"title-login\">log into your account!</h1>\n            <form onSubmit={handleClick}>\n              <Input\n                onChange={handleUsername}\n                value={email}\n                placeholder=\"you@example.com\"\n                inputEmailName\n                title=\"Email Adress\"\n              />\n              <Input\n                onChange={handlePassword}\n                value={password}\n                title=\"Password\"\n                inputPassword\n              />\n              {password.length >= 6 && email.length >= 2 ? (\n                <Button btnForLogin>Login</Button>\n              ) : (\n                ''\n              )}\n            </form>\n          </div>\n        ) : (\n          <div className=\"card-login\">\n            <Spinners></Spinners>\n          </div>\n        )}\n      </div>\n    </section>\n  );\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}